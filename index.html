<html>
<head>
<title>Questões</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  

  

<script>



var valores = [];


//Escolher questoes aleatorias
function aleatorio()
{
	
var quant = document.getElementById("quants").value;
var i = 0;
var result = "";


var loop1 = true;

var valid = false;

while(i < quant)
{
	var k = 0;	
	//0 .. max
	//O numero aleatorio gerado é a questão escolhida
	x = Math.floor(Math.random() * 108); 
	
	while(k < valores.length)
	{
		loop1 = false;
		if(valores[k] == x)
		{
			valid = true;
			break;
		}
		
		k++;
			
	}
	
	
	if(valid == false)
	{
		valores.push(x);
		result += "<div id = \"divborders\"  class=\"col-sm-8\"> <img width = \"120%\" src = \"" + x.toString() + "\\img.png\"/><br><br>" +
		
		"<div id = \"quest" + x.toString() +"\">" +
				
				
		"</div>" +
		"<div>" +
	  "<input  type=\"radio\" id=\"" +  x.toString() +"1\" name=\"" + x.toString() +"\" value=\"1\">" +
  			"<label for=\"1\">1</label>" +
		"</div>" +

		"<div>" +
 	 		"<input  type=\"radio\" id=\"" +  x.toString() +"2\" name=\"" + x.toString() +"\" value=\"2\">" +
  			"<label for=\"2\">2</label>" +
		"</div>" +

		"<div>" +
  			"<input  type=\"radio\" id=\"" +  x.toString() +"3\" name=\"" + x.toString() +"\" value=\"3\">" +
  			"<label for=\"3\">3</label>" +
		"</div></div>";
		i++;
	}
	else {
		valid = false;
	}
	
	
	
		
	
	
}



document.getElementById("01").innerHTML = result;
document.getElementById("ids02").innerHTML = "<input  id = \"valids\"class=\"btn btn-success\" type = \"button\" onclick = \"validar()\" value = \"Validar\">";
document.getElementById("gerar").disabled = true;
}

function validar() {
	
	
	var respostas = {"0":1,"1":1,"2":2,"3":1,"4":3,"5":3,"6":2,"7":1,"8":3,"9":1,"10":2,"11":2,"12":3,"13":2,"14":2,"15":3
	,"16":2,"17":2,"18":1,"19":1,"20":1,"21":3,"22":1,"23":3,"24":1,"25":3,"26":1,"27":1,"28":2,"29":3,"30":1,"31":3,"32":2,"33":3,"34":1,"35":2
	,"36":3,"37":1,"38":1,"39":2,"40":2,"41":1,"42":3,"43":3,"44":3,"45":2,"46":2,"47":1,"48":2,"49":2,"50":3,"51":3,"52":3,"53":1,"54":2,"55":3
	,"56":3,"57":1,"58":2,"59":2,"60":3,"61":2,"62":2,"63":3,"64":3,"65":2,"66":1,"67":3,"68":2,"69":3,"70":1,"71":2,"72":2,"73":3,"74":1,"75":2
	,"76":1,"77":2,"78":3,"79":2,"80":3,"81":1,"82":2,"83":3,"84":2,"85":1,"86":3,"87":2,"88":1,"89":2,"90":1,"91":3,"92":3,"93":2,"94":2,"95":1
	,"96":1,"97":3,"98":2,"99":3,"100":3,"101":2,"102":3,"103":3,"104":2,"105":2,"106":3,"107":1,"108":1};
	var resp = false;
	var acertos = 0;
	
	//Consultar questoes a partir do nome e conferir no array se estao corretas
	//Dependendo se estao corretas ou nao sera preenchido uma mensagem no inicio de cada uma
	var quant = document.getElementById("quants").value;
	var i = 0;
	
	
	
	while(i < quant)
	{
		
		var q = document.getElementsByName(valores[i]);
		
		
		//Respostas 1 a 3
		for(var k = 0; k < 3; k++)
		{
			//Consulta resposta marcada
			if(q[k].checked == true)
			{
			
				//Compara valor da resposta marcada com a resposta correta
				if(q[k].value == respostas[valores[i].toString()])
				{
				
					resp = true;
					acertos++;
					document.getElementById("quest" + valores[i]).innerHTML = "<div class=\"alert alert-success\">" + 
					"<strong>Correta!</strong>" +
					"</div>";
					break;
				}
			}
		}
		
		if(resp == false)
		{
			//alert("Errada: ");
			document.getElementById("quest" + valores[i]).innerHTML = "<div class=\"alert alert-danger\">" + 
			"<strong>Errada!</strong>" +
			"</div>" + "<span class=\"badge badge-success\">Resposta correta: " + respostas[valores[i].toString()] + "</span>";
			
			
			
			
		}
		else
		{
			resp = false;
		}
		
		i++;
	}	
	
	
	alert("Voce acertou: " + acertos + " de " + quant +"\n" + "Isso é " + ((acertos/quant) * 100).toPrecision(4) + "% de acertos!");
	
	
	
	document.getElementById("valids").disabled = true;
	document.getElementById("ids02").innerHTML = "<input id = \"recarregar\"class=\"btn btn-success\" type = \"button\" onclick = \"recarregarpagina()\" value = \"Recarregar\">"
	
}


function alterar(x)
{
	document.getElementById("qq").innerHTML = "Quantidade de questões:" + x;
}

function recarregarpagina()
{
	window.location.reload();
}

</script>


<style>
	.slidecontainer {
	  width: 25%;
	}
	
	#divborders {
	  border-bottom: solid;
	}
	

	html,body{
		width:95%;
		height:100%;
		font-family: Arial, Helvetica, sans-serif;
	}

	header{
		background-color: tomato;
		width:100%;
		height:20%;
		margin:30px;
		padding:10px;
		text-align: center;

	}



</style>


</head>

<body>

<header>
  <h1>Perguntas</h1>
</header>


<div class = "dados">

 <p id = "qq">Quantidade de questões: 10</p>
<div class="slidecontainer">
<input type="range" id = "quants" min="1" max="50" value="10" onchange = "alterar(this.value)">
</div>
<input type = "button" onclick="aleatorio()" class="btn btn-primary" value = "Gerar" id = "gerar">

</div>




<div class="container">
  <div class="row" id = "01">
    







</div>
</div>

<div id = "ids02">





</div>



</body>

</html>












