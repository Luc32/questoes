<html>
<head>
<title>Questões</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<script>





</script>



<script>



//Escolher questoes aleatorias
function aleatorio()
{
	
var quant = document.getElementById("quants").value;
var i = 0;
var result = "";
var valores = [];

var loop1 = true;

var valid = false;

while(i < quant)
{
	var k = 0;	
	//0 .. max
	//O numero aleatorio gerado é a questão escolhida
	x = Math.floor(Math.random() * quant); 
	
	while(k < valores.length)
	{
		loop1 = false;
		if(valores[k] == x)
		{
			valid = true;
			break;
		}
		
		k++;
			
	}
	
	
	if(valid == false)
	{
		valores.push(x);
		result += "<div class=\"col-sm-4\"> <img width = \"98%\" src = \"" + x.toString() + "\\img.png\"/><br><br>" +
		
		"<div id = \"quest" + x.toString() +"\">" +
				
				
		"</div>" +
		"<div>" +
	  "<input type=\"radio\" id=\"1\" name=\"" + x.toString() +"\" value=\"1\">" +
  			"<label for=\"1\">1</label>" +
		"</div>" +

		"<div>" +
 	 		"<input type=\"radio\" id=\"2\" name=\"" + x.toString() +"\" value=\"2\">" +
  			"<label for=\"2\">2</label>" +
		"</div>" +

		"<div>" +
  			"<input type=\"radio\" id=\"3\" name=\"" + x.toString() +"\" value=\"3\">" +
  			"<label for=\"3\">3</label>" +
		"</div></div>";
		i++;
	}
	else {
		valid = false;
	}
	
	
	
		
	
	
}

document.getElementById("01").innerHTML = result;
}

function validar() {
	
	
	var respostas = {"0":1,"1":1,"2":2,"3":1,"4":3,"5":3};
	var resp = false;
	var acertos = 0;
	
	//Consultar questoes a partir do nome e conferir no array se estao corretas
	//Dependendo se estao corretas ou nao sera preenchido uma mensagem no inicio de cada uma
	var quant = document.getElementById("quants").value;
	var i = 0;
	//alert(respostas["1"]);
	while(i < quant)
	{
		
		var q = document.getElementsByName(i);
		
		for(var k = 0; k < 3; k++)
		{
			
			if(q[k].checked == true)
			{
				
				if(q[k].value == respostas[i.toString()])
				{
					//alert("Correta: " + q[k].value);
					resp = true;
					acertos++;
					break;
				}
			}
		}
		
		if(resp == false)
		{
			//alert("Errada: ");
		}
		else
		{
			resp = false;
		}
		
		i++;
	}	
	
	
	alert("Voce acertou: " + acertos + "\n" + "Isso é " + (acertos/quant) * 100 + "% de acertos!");
	
}


</script>

</head>

<body>

<div class="jumbotron text-center">
  <h1>Perguntas</h1>
</div>


<form>
<input type = "text" id = "quants">
<input type = "button" onclick="aleatorio()" value = "Escolha">

</form>

<form>

<div class="container">
  <div class="row" id = "01">
    







</div>
</div>

<input type = "button" onclick = "validar()" value = "Validar">

</form>


</body>

</html>












